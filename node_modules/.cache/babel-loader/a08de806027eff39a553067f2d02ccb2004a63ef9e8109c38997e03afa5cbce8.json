{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from 'react';\nimport { knowledgeBase, detectAdvancedIntent, getContextualResponse } from './knowledgeBase';\nexport function useChatAPI(personality = 'friendly') {\n  _s();\n  const [isLoading, setIsLoading] = useState(false);\n  const sendMessage = async messages => {\n    setIsLoading(true);\n    try {\n      // Simulate API delay for realistic feel\n      await new Promise(resolve => setTimeout(resolve, 800 + Math.random() * 1200));\n\n      // Get user input and conversation context\n      const lastUserMessage = messages[messages.length - 1];\n      const userContent = lastUserMessage.content;\n      const userContentLower = userContent.toLowerCase();\n      const conversationHistory = messages;\n\n      // Enhanced analysis functions\n      function extractKeywords(text) {\n        const words = text.replace(/[.,!?]/g, '').split(/\\s+/).filter(word => word.length > 3).slice(0, 8);\n\n        // Add topic-specific keywords from knowledge base\n        const allKeywords = [...knowledgeBase.programming.keywords, ...knowledgeBase.science.keywords, ...knowledgeBase.health.keywords, ...knowledgeBase.history.keywords, ...knowledgeBase.business.keywords];\n        const foundKeywords = words.filter(w => allKeywords.some(kw => w.includes(kw) || kw.includes(w)));\n        return [...new Set([...words, ...foundKeywords])].slice(0, 8);\n      }\n      function detectSentiment(text) {\n        const positive = ['good', 'great', 'excellent', 'awesome', 'amazing', 'wonderful', 'fantastic', 'happy', 'love', 'like', 'enjoy', 'thanks', 'thankful', 'grateful', 'pleased', 'satisfied'];\n        const negative = ['bad', 'terrible', 'awful', 'horrible', 'sad', 'hate', 'angry', 'frustrated', 'annoyed', 'problem', 'issue', 'wrong', 'error', 'broken', 'difficult', 'hard'];\n        let score = 0;\n        for (const word of positive) if (text.includes(word)) score += 1.5;\n        for (const word of negative) if (text.includes(word)) score -= 1.5;\n        if (score > 2) return 'positive';\n        if (score < -2) return 'negative';\n        return 'neutral';\n      }\n\n      // Use advanced intent detection\n      const intent = detectAdvancedIntent(userContent, conversationHistory);\n      const keywords = extractKeywords(userContentLower);\n      const sentiment = detectSentiment(userContentLower);\n      const context = getContextualResponse(intent, personality, conversationHistory);\n      let response = '';\n      let meta = {\n        source: 'Enhanced AI Knowledge Base',\n        confidence: Math.floor(85 + Math.random() * 15) + '%',\n        extra: '',\n        keywords,\n        sentiment,\n        intent\n      };\n\n      // Get response from knowledge base based on intent\n      function getResponseFromKnowledgeBase(intent, personality) {\n        // Programming responses\n        if (intent.startsWith('programming_')) {\n          const topic = intent.split('_')[1];\n          const kb = knowledgeBase.programming.responses[personality];\n          if (kb && kb[topic]) {\n            return {\n              response: kb[topic],\n              extra: `Programming: ${topic}`\n            };\n          }\n          return {\n            response: kb.general,\n            extra: 'Programming topic'\n          };\n        }\n\n        // Science responses\n        if (intent.startsWith('science_')) {\n          const topic = intent.split('_')[1];\n          const kb = knowledgeBase.science.responses[personality];\n          if (kb && kb[topic]) {\n            return {\n              response: kb[topic],\n              extra: `Science: ${topic}`\n            };\n          }\n          return {\n            response: kb.general,\n            extra: 'Science topic'\n          };\n        }\n\n        // Other knowledge base topics\n        if (intent === 'health') {\n          return {\n            response: knowledgeBase.health.responses[personality].general,\n            extra: 'Health & Wellness'\n          };\n        }\n        if (intent === 'history') {\n          return {\n            response: knowledgeBase.history.responses[personality].general,\n            extra: 'History & Culture'\n          };\n        }\n        if (intent === 'business') {\n          return {\n            response: knowledgeBase.business.responses[personality].general,\n            extra: 'Business & Finance'\n          };\n        }\n\n        // General knowledge responses\n        if (intent.startsWith('general_')) {\n          const topic = intent.split('_')[1];\n          const kb = knowledgeBase.general.responses[personality];\n          if (kb && kb[topic]) {\n            return {\n              response: kb[topic],\n              extra: `General: ${topic}`\n            };\n          }\n        }\n        return null;\n      }\n\n      // Try to get response from knowledge base first\n      const kbResponse = getResponseFromKnowledgeBase(intent, personality);\n      if (kbResponse) {\n        response = kbResponse.response;\n        meta.extra = kbResponse.extra;\n      } else {\n        // Fallback to basic templates for simple intents\n        const templates = {\n          friendly: {\n            greeting: \"Hello! ðŸ˜Š How can I assist you today? I'm here to help with any questions or tasks you might have.\",\n            help: \"I'm here to help! ðŸ¤— I can assist with:\\n\\n- Programming & Technology\\n- Science & Mathematics\\n- Health & Wellness\\n- History & Culture\\n- Business & Finance\\n- General Knowledge\\n\\nWhat would you like help with?\",\n            joke: \"Here's a programming joke for you:\\n\\nWhy do programmers prefer dark mode?\\n\\nBecause light attracts bugs! ðŸ›ðŸ˜„\\n\\nWant another one? Just ask!\",\n            gratitude: \"You're very welcome! ðŸ˜Š I'm glad I could help. Is there anything else you'd like to know or discuss?\",\n            goodbye: \"Goodbye! ðŸ‘‹ It was nice chatting with you. Feel free to come back anytime if you have more questions!\",\n            how_are_you: \"I'm doing great, thank you for asking! ðŸ˜Š I'm here and ready to help you with whatever you need. How are you doing today?\",\n            question: \"That's an interesting question! I'd be happy to help you explore that topic further. Could you provide more details about what specifically you'd like to know?\",\n            fallback: \"I understand what you're saying. That's a great point to discuss! I can help with various topics like programming, science, health, history, business, and more. What would you like to explore?\"\n          },\n          professional: {\n            greeting: \"Hello. How may I assist you today?\",\n            help: \"I can provide assistance across multiple domains: technology, science, business, health, and general knowledge. Please specify your area of interest.\",\n            joke: \"Here's a programming joke:\\n\\nWhy do programmers prefer dark mode? Because light attracts bugs.\",\n            gratitude: \"You're welcome. Let me know if you need further assistance.\",\n            goodbye: \"Goodbye. If you have more questions, feel free to return.\",\n            how_are_you: \"I'm functioning optimally. How may I assist you today?\",\n            question: \"That's a thoughtful question. Please provide more details for a precise answer.\",\n            fallback: \"I acknowledge your point. Please specify what you'd like to discuss further.\"\n          },\n          humorous: {\n            greeting: \"Hey there! ðŸ˜ Ready to have some fun with AI? How can I help you today?\",\n            help: \"Need help? No worries, your friendly AI comedian is here! ðŸ˜‚ I can help with programming, science, jokes, and basically anything that doesn't require me to have a physical body! What can I do for you?\",\n            joke: \"Here's a joke for you:\\n\\nWhy do programmers prefer dark mode?\\nBecause light attracts bugs! ðŸ›ðŸ¤£\\n\\nWant more? I've got jokes for days!\",\n            gratitude: \"No problem! Making your day brighter, one answer at a time! ðŸ˜Ž\",\n            goodbye: \"See ya! Don't forget to tip your AI! ðŸ‘‹ðŸ˜‚\",\n            how_are_you: \"I'm doing fantastic! I don't have feelings, but if I did, I'd be ecstatic! ðŸ˜„ How about you?\",\n            question: \"Ooo, a question! I love those. Give me more details and I'll try not to make a pun. ðŸ˜…\",\n            fallback: \"Interesting! Let's chat more, or just tell me a joke! I'm here for the fun AND the knowledge! ðŸŽ‰\"\n          },\n          concise: {\n            greeting: \"Hello. How can I help?\",\n            help: \"How can I assist?\",\n            joke: \"Why do programmers prefer dark mode? Bugs.\",\n            gratitude: \"You're welcome.\",\n            goodbye: \"Goodbye.\",\n            how_are_you: \"Good. You?\",\n            question: \"Please clarify your question.\",\n            fallback: \"What else can I help with?\"\n          }\n        };\n        const t = templates[personality] || templates.friendly;\n        if (intent === 'greeting') {\n          response = t.greeting;\n          meta.extra = 'Greeting detected';\n        } else if (intent === 'help') {\n          response = t.help;\n          meta.extra = 'Help intent detected';\n        } else if (intent === 'joke') {\n          // Get random joke from knowledge base\n          const randomJoke = knowledgeBase.jokes[Math.floor(Math.random() * knowledgeBase.jokes.length)];\n          if (personality === 'humorous') {\n            response = `${randomJoke}\\n\\nWant another one? I've got more! ðŸ˜‚`;\n          } else if (personality === 'professional') {\n            response = randomJoke;\n          } else if (personality === 'concise') {\n            response = randomJoke.split('!')[0] + '!';\n          } else {\n            response = `${randomJoke}\\n\\nWant another joke? Just ask! ðŸ˜„`;\n          }\n          meta.extra = 'Joke requested';\n        } else if (intent === 'gratitude') {\n          response = t.gratitude;\n          meta.extra = 'Gratitude detected';\n        } else if (intent === 'goodbye') {\n          response = t.goodbye;\n          meta.extra = 'Goodbye intent';\n        } else if (intent === 'how_are_you') {\n          response = t.how_are_you;\n          meta.extra = 'How are you question';\n        } else if (intent === 'question') {\n          response = t.question;\n          meta.extra = 'General question';\n        } else {\n          response = t.fallback;\n          meta.extra = 'General discussion';\n        }\n      }\n\n      // Add contextual follow-up if relevant\n      if (context.isFollowUp && conversationHistory.length > 2) {\n        response += `\\n\\nIs there anything else about ${context.previousTopic.replace('_', ' ')} you'd like to know?`;\n      }\n\n      // Return both response and meta\n      return {\n        content: response,\n        meta\n      };\n    } catch (error) {\n      console.error('Error in chat API:', error);\n      throw new Error('Failed to get response from AI');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  // For production use, replace the mock implementation above with this:\n  /*\r\n  const sendMessage = async (messages) => {\r\n    try {\r\n      const response = await fetch('/api/chat', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          messages: messages.map(msg => ({\r\n            role: msg.role,\r\n            content: msg.content\r\n          }))\r\n        }),\r\n      });\r\n        if (!response.ok) {\r\n        throw new Error('Failed to get response from AI');\r\n      }\r\n        const data = await response.json();\r\n      return data.content;\r\n    } catch (error) {\r\n      console.error('Error in chat API:', error);\r\n      throw error;\r\n    }\r\n  };\r\n  */\n\n  return {\n    sendMessage,\n    isLoading\n  };\n}\n_s(useChatAPI, \"EmvgwIb3cHpoFpeP+WmEDbjx4y4=\");","map":{"version":3,"names":["useState","knowledgeBase","detectAdvancedIntent","getContextualResponse","useChatAPI","personality","_s","isLoading","setIsLoading","sendMessage","messages","Promise","resolve","setTimeout","Math","random","lastUserMessage","length","userContent","content","userContentLower","toLowerCase","conversationHistory","extractKeywords","text","words","replace","split","filter","word","slice","allKeywords","programming","keywords","science","health","history","business","foundKeywords","w","some","kw","includes","Set","detectSentiment","positive","negative","score","intent","sentiment","context","response","meta","source","confidence","floor","extra","getResponseFromKnowledgeBase","startsWith","topic","kb","responses","general","kbResponse","templates","friendly","greeting","help","joke","gratitude","goodbye","how_are_you","question","fallback","professional","humorous","concise","t","randomJoke","jokes","isFollowUp","previousTopic","error","console","Error"],"sources":["C:/Users/ADMIN/Documents/Ai/src/hooks/useChatAPI.js"],"sourcesContent":["import { useState } from 'react';\r\nimport { knowledgeBase, detectAdvancedIntent, getContextualResponse } from './knowledgeBase';\r\n\r\nexport function useChatAPI(personality = 'friendly') {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const sendMessage = async (messages) => {\r\n    setIsLoading(true);\r\n    \r\n    try {\r\n      // Simulate API delay for realistic feel\r\n      await new Promise(resolve => setTimeout(resolve, 800 + Math.random() * 1200));\r\n      \r\n      // Get user input and conversation context\r\n      const lastUserMessage = messages[messages.length - 1];\r\n      const userContent = lastUserMessage.content;\r\n      const userContentLower = userContent.toLowerCase();\r\n      const conversationHistory = messages;\r\n\r\n      // Enhanced analysis functions\r\n      function extractKeywords(text) {\r\n        const words = text\r\n          .replace(/[.,!?]/g, '')\r\n          .split(/\\s+/)\r\n          .filter(word => word.length > 3)\r\n          .slice(0, 8);\r\n        \r\n        // Add topic-specific keywords from knowledge base\r\n        const allKeywords = [...knowledgeBase.programming.keywords, \r\n                            ...knowledgeBase.science.keywords,\r\n                            ...knowledgeBase.health.keywords,\r\n                            ...knowledgeBase.history.keywords,\r\n                            ...knowledgeBase.business.keywords];\r\n        \r\n        const foundKeywords = words.filter(w => \r\n          allKeywords.some(kw => w.includes(kw) || kw.includes(w))\r\n        );\r\n        \r\n        return [...new Set([...words, ...foundKeywords])].slice(0, 8);\r\n      }\r\n      \r\n      function detectSentiment(text) {\r\n        const positive = ['good', 'great', 'excellent', 'awesome', 'amazing', 'wonderful', 'fantastic', 'happy', 'love', 'like', 'enjoy', 'thanks', 'thankful', 'grateful', 'pleased', 'satisfied'];\r\n        const negative = ['bad', 'terrible', 'awful', 'horrible', 'sad', 'hate', 'angry', 'frustrated', 'annoyed', 'problem', 'issue', 'wrong', 'error', 'broken', 'difficult', 'hard'];\r\n        let score = 0;\r\n        for (const word of positive) if (text.includes(word)) score += 1.5;\r\n        for (const word of negative) if (text.includes(word)) score -= 1.5;\r\n        if (score > 2) return 'positive';\r\n        if (score < -2) return 'negative';\r\n        return 'neutral';\r\n      }\r\n\r\n      // Use advanced intent detection\r\n      const intent = detectAdvancedIntent(userContent, conversationHistory);\r\n      const keywords = extractKeywords(userContentLower);\r\n      const sentiment = detectSentiment(userContentLower);\r\n      const context = getContextualResponse(intent, personality, conversationHistory);\r\n\r\n      let response = '';\r\n      let meta = {\r\n        source: 'Enhanced AI Knowledge Base',\r\n        confidence: Math.floor(85 + Math.random() * 15) + '%',\r\n        extra: '',\r\n        keywords,\r\n        sentiment,\r\n        intent\r\n      };\r\n\r\n      // Get response from knowledge base based on intent\r\n      function getResponseFromKnowledgeBase(intent, personality) {\r\n        // Programming responses\r\n        if (intent.startsWith('programming_')) {\r\n          const topic = intent.split('_')[1];\r\n          const kb = knowledgeBase.programming.responses[personality];\r\n          if (kb && kb[topic]) {\r\n            return { response: kb[topic], extra: `Programming: ${topic}` };\r\n          }\r\n          return { response: kb.general, extra: 'Programming topic' };\r\n        }\r\n        \r\n        // Science responses\r\n        if (intent.startsWith('science_')) {\r\n          const topic = intent.split('_')[1];\r\n          const kb = knowledgeBase.science.responses[personality];\r\n          if (kb && kb[topic]) {\r\n            return { response: kb[topic], extra: `Science: ${topic}` };\r\n          }\r\n          return { response: kb.general, extra: 'Science topic' };\r\n        }\r\n        \r\n        // Other knowledge base topics\r\n        if (intent === 'health') {\r\n          return { \r\n            response: knowledgeBase.health.responses[personality].general, \r\n            extra: 'Health & Wellness' \r\n          };\r\n        }\r\n        if (intent === 'history') {\r\n          return { \r\n            response: knowledgeBase.history.responses[personality].general, \r\n            extra: 'History & Culture' \r\n          };\r\n        }\r\n        if (intent === 'business') {\r\n          return { \r\n            response: knowledgeBase.business.responses[personality].general, \r\n            extra: 'Business & Finance' \r\n          };\r\n        }\r\n        \r\n        // General knowledge responses\r\n        if (intent.startsWith('general_')) {\r\n          const topic = intent.split('_')[1];\r\n          const kb = knowledgeBase.general.responses[personality];\r\n          if (kb && kb[topic]) {\r\n            return { response: kb[topic], extra: `General: ${topic}` };\r\n          }\r\n        }\r\n        \r\n        return null;\r\n      }\r\n\r\n      // Try to get response from knowledge base first\r\n      const kbResponse = getResponseFromKnowledgeBase(intent, personality);\r\n      \r\n      if (kbResponse) {\r\n        response = kbResponse.response;\r\n        meta.extra = kbResponse.extra;\r\n      } else {\r\n        // Fallback to basic templates for simple intents\r\n        const templates = {\r\n          friendly: {\r\n            greeting: \"Hello! ðŸ˜Š How can I assist you today? I'm here to help with any questions or tasks you might have.\",\r\n            help: \"I'm here to help! ðŸ¤— I can assist with:\\n\\n- Programming & Technology\\n- Science & Mathematics\\n- Health & Wellness\\n- History & Culture\\n- Business & Finance\\n- General Knowledge\\n\\nWhat would you like help with?\",\r\n            joke: \"Here's a programming joke for you:\\n\\nWhy do programmers prefer dark mode?\\n\\nBecause light attracts bugs! ðŸ›ðŸ˜„\\n\\nWant another one? Just ask!\",\r\n            gratitude: \"You're very welcome! ðŸ˜Š I'm glad I could help. Is there anything else you'd like to know or discuss?\",\r\n            goodbye: \"Goodbye! ðŸ‘‹ It was nice chatting with you. Feel free to come back anytime if you have more questions!\",\r\n            how_are_you: \"I'm doing great, thank you for asking! ðŸ˜Š I'm here and ready to help you with whatever you need. How are you doing today?\",\r\n            question: \"That's an interesting question! I'd be happy to help you explore that topic further. Could you provide more details about what specifically you'd like to know?\",\r\n            fallback: \"I understand what you're saying. That's a great point to discuss! I can help with various topics like programming, science, health, history, business, and more. What would you like to explore?\"\r\n          },\r\n          professional: {\r\n            greeting: \"Hello. How may I assist you today?\",\r\n            help: \"I can provide assistance across multiple domains: technology, science, business, health, and general knowledge. Please specify your area of interest.\",\r\n            joke: \"Here's a programming joke:\\n\\nWhy do programmers prefer dark mode? Because light attracts bugs.\",\r\n            gratitude: \"You're welcome. Let me know if you need further assistance.\",\r\n            goodbye: \"Goodbye. If you have more questions, feel free to return.\",\r\n            how_are_you: \"I'm functioning optimally. How may I assist you today?\",\r\n            question: \"That's a thoughtful question. Please provide more details for a precise answer.\",\r\n            fallback: \"I acknowledge your point. Please specify what you'd like to discuss further.\"\r\n          },\r\n          humorous: {\r\n            greeting: \"Hey there! ðŸ˜ Ready to have some fun with AI? How can I help you today?\",\r\n            help: \"Need help? No worries, your friendly AI comedian is here! ðŸ˜‚ I can help with programming, science, jokes, and basically anything that doesn't require me to have a physical body! What can I do for you?\",\r\n            joke: \"Here's a joke for you:\\n\\nWhy do programmers prefer dark mode?\\nBecause light attracts bugs! ðŸ›ðŸ¤£\\n\\nWant more? I've got jokes for days!\",\r\n            gratitude: \"No problem! Making your day brighter, one answer at a time! ðŸ˜Ž\",\r\n            goodbye: \"See ya! Don't forget to tip your AI! ðŸ‘‹ðŸ˜‚\",\r\n            how_are_you: \"I'm doing fantastic! I don't have feelings, but if I did, I'd be ecstatic! ðŸ˜„ How about you?\",\r\n            question: \"Ooo, a question! I love those. Give me more details and I'll try not to make a pun. ðŸ˜…\",\r\n            fallback: \"Interesting! Let's chat more, or just tell me a joke! I'm here for the fun AND the knowledge! ðŸŽ‰\"\r\n          },\r\n          concise: {\r\n            greeting: \"Hello. How can I help?\",\r\n            help: \"How can I assist?\",\r\n            joke: \"Why do programmers prefer dark mode? Bugs.\",\r\n            gratitude: \"You're welcome.\",\r\n            goodbye: \"Goodbye.\",\r\n            how_are_you: \"Good. You?\",\r\n            question: \"Please clarify your question.\",\r\n            fallback: \"What else can I help with?\"\r\n          }\r\n        };\r\n\r\n        const t = templates[personality] || templates.friendly;\r\n\r\n        if (intent === 'greeting') {\r\n          response = t.greeting;\r\n          meta.extra = 'Greeting detected';\r\n        } else if (intent === 'help') {\r\n          response = t.help;\r\n          meta.extra = 'Help intent detected';\r\n        } else if (intent === 'joke') {\r\n          // Get random joke from knowledge base\r\n          const randomJoke = knowledgeBase.jokes[Math.floor(Math.random() * knowledgeBase.jokes.length)];\r\n          if (personality === 'humorous') {\r\n            response = `${randomJoke}\\n\\nWant another one? I've got more! ðŸ˜‚`;\r\n          } else if (personality === 'professional') {\r\n            response = randomJoke;\r\n          } else if (personality === 'concise') {\r\n            response = randomJoke.split('!')[0] + '!';\r\n          } else {\r\n            response = `${randomJoke}\\n\\nWant another joke? Just ask! ðŸ˜„`;\r\n          }\r\n          meta.extra = 'Joke requested';\r\n        } else if (intent === 'gratitude') {\r\n          response = t.gratitude;\r\n          meta.extra = 'Gratitude detected';\r\n        } else if (intent === 'goodbye') {\r\n          response = t.goodbye;\r\n          meta.extra = 'Goodbye intent';\r\n        } else if (intent === 'how_are_you') {\r\n          response = t.how_are_you;\r\n          meta.extra = 'How are you question';\r\n        } else if (intent === 'question') {\r\n          response = t.question;\r\n          meta.extra = 'General question';\r\n        } else {\r\n          response = t.fallback;\r\n          meta.extra = 'General discussion';\r\n        }\r\n      }\r\n      \r\n      // Add contextual follow-up if relevant\r\n      if (context.isFollowUp && conversationHistory.length > 2) {\r\n        response += `\\n\\nIs there anything else about ${context.previousTopic.replace('_', ' ')} you'd like to know?`;\r\n      }\r\n\r\n        // Return both response and meta\r\n        return { content: response, meta };\r\n      } catch (error) {\r\n        console.error('Error in chat API:', error);\r\n        throw new Error('Failed to get response from AI');\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n  // For production use, replace the mock implementation above with this:\r\n  /*\r\n  const sendMessage = async (messages) => {\r\n    try {\r\n      const response = await fetch('/api/chat', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          messages: messages.map(msg => ({\r\n            role: msg.role,\r\n            content: msg.content\r\n          }))\r\n        }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Failed to get response from AI');\r\n      }\r\n\r\n      const data = await response.json();\r\n      return data.content;\r\n    } catch (error) {\r\n      console.error('Error in chat API:', error);\r\n      throw error;\r\n    }\r\n  };\r\n  */\r\n\r\n  return {\r\n    sendMessage,\r\n    isLoading\r\n  };\r\n}\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}